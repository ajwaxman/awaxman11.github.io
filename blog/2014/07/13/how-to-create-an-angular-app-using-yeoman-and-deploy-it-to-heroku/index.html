
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to Create  an Angular App Using Yeoman and Deploy it to Heroku - Build, Break, Learn.</title>
  <meta name="author" content="Adam Waxman">

  
  <meta name="description" content="Step 1: Install Yeoman Yeoman is a tool to help easily create new projects. You can use its generators to create all different types of web apps ( &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://awaxman11.github.io/blog/2014/07/13/how-to-create-an-angular-app-using-yeoman-and-deploy-it-to-heroku/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Build, Break, Learn." type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43029008-1', 'awaxman11.github.io');
  ga('send', 'pageview');

</script>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Build, Break, Learn.</a></h1>
  
    <h2>Adam Waxman's technical blog</h2>
  
</hgroup>





</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:awaxman11.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How to Create an Angular App Using Yeoman and Deploy It to Heroku</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-13T14:57:00-04:00" pubdate data-updated="true">Jul 13<span>th</span>, 2014</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h4>Step 1: Install Yeoman</h4>

<p><a href="http://yeoman.io/">Yeoman</a> is a tool to help easily create new projects. You can use its generators to create all different types of web apps (Angular, Backbone, Ember, and <a href="http://yeoman.io/generators/official.html">many</a> <a href="http://yeoman.io/generators/community.html">more</a>).</p>

<p>Having node and npm installed on your computer is a requirement for using Yeoman. If you do not have the installed on your computer, follow these installation instructions <a href="http://blog.nodeknockout.com/post/65463770933/how-to-install-node-js-and-npm">here</a>.</p>

<p>Once node and npm are installed, install Yeoman by running <code>npm install -g yo</code>.</p>

<h4>Step 2: Create an Angular App using the Yeoman Anglar Generator</h4>

<p>Now that Yeoman is installed, you can easily create an Angular app by following the instructions below. These are taken from the yeoman angular generator repo readme, which can be found <a href="https://github.com/yeoman/generator-angular">here</a>.</p>

<p>Install generator-angular: <code>npm install -g generator-angular</code>.</p>

<p>Make a new directory and cd into it: <code>mkdir project-name &amp;&amp; cd project-name</code>.</p>

<p>Create the angular app: <code>yo angular [app-name]</code> (the app name parameter is optional).</p>

<p>You will be asked if you want yeoman to install SASS (with Compass), Twitter Bootstrap, and include various angular modules. You can learn more about these opitons under the &ldquo;Configure your generator&rdquo; <a href="http://yeoman.io/codelab/scaffold-app.html">here</a>. Below I do not install SASS or Bootstrap, but do include the various angular modules, so I type <code>y</code>, <code>y</code>, and then press enter.</p>

<p><img src="http://cl.ly/WYXe/Image%202014-07-13%20at%203.52.56%20PM.png" alt="" /></p>

<p>After letting yeoman do its magic, you can run the app locally with the following command:  <code>grunt serve</code>.</p>

<p>You should now see something like this on localhost:9000:</p>

<p><img src="http://f.cl.ly/items/2c451L3A0z2y0c3e3g0E/Image%202014-07-09%20at%208.49.13%20AM.png" title="The Angular app running locally" ></p>

<h4>Step 3: Add a Server to the App</h4>

<p>This step is taken primarily from <a href="https://twitter.com/foxwisp">Brad Barrow&rsquo;s</a> awesome <a href="http://www.sitepoint.com/deploying-yeomanangular-app-heroku/">tutorial</a>, with some slight updates to make it work using the latest version of Express (a web development framework for node.js).</p>

<p>As Brad explains, the angular app created by Yeoman is static, so we can&rsquo;t expect it to work on Heroku out of the box. In order for Heroky to be able to serve the pages for us we need to add a server to the app.</p>

<p>The server&rsquo;s dependencies include Gzippo, Morgan, and Express.</p>

<p>To install these dependencies run <code>npm install gzippo express morgan --save</code>.</p>

<p>Next, create a server file called web.js in the room director <code>/web.js</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">gzippo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gzippo&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">morgan</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;morgan&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">morgan</span><span class="p">(</span><span class="s1">&#39;dev&#39;</span><span class="p">));</span>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">gzippo</span><span class="p">.</span><span class="nx">staticGzip</span><span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s2">&quot;/dist&quot;</span><span class="p">));</span>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">5000</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now that the server file has been created, we need grunt to build the /dist directory that we are serving in line 6 of our web.js file.</p>

<p>We can create this directory by running <code>grunt build</code>.</p>

<h4>Step 4: Add Heroku Dependencies</h4>

<p>By default the dist that we just createdis included in the .gitignore file:</p>

<p><img src="http://f.cl.ly/items/3D161R2V043C0V0m2O2K/Image%202014-07-09%20at%209.47.05%20AM.png" title="Default .gitignore file" ></p>

<p>Since Heroku uses git to deploy, we need to remove <code>dist</code> from the .gitignore file. As Brad explains nicely in his tutorial:</p>

<p>&ldquo;It’s worth noting that the dist/ directory is ignored by git by default (they assume you only want to version control the development project, not the compiled app). Since Heroku uses git to deploy, we’ll need to remove dist/ from .gitignore to make sure it gets committed.&rdquo;</p>

<p><em>Note: While this gets the app up and running on Heroku, it is bad practice to version control the compiled app. I looked around but couldn&rsquo;t figure out how to compile an angular app on the server on Heroku. If anyway knows of a good way to do this I&rsquo;d love to hear from you and add it to this post!</em></p>

<p>Next, we need to turn the project directory into a git repo by running <code>git init</code>.</p>

<p>In addition to making it a git repo we need to create a Procfile, which Heroku uses to understand how to start the app.</p>

<p>Create the Procfile in the root directly just like the web.js file and inlcude the following line, which tells Heroku to use NodeJS to run our web.js file.</p>

<p><code>web: node web.js</code>.</p>

<p>The next step requires that you have a Heroku account and the Heroku Toolbelt installed. You can get setup with a Heroku account <a href="heroku.com">here</a> and download the Heroku Toolbelt <a href="https://toolbelt.heroku.com/">here</a>.</p>

<p>Once you have a Heroku account and the Heroku Toolbelt installed, you can create a Heroku app by running:</p>

<p><code>heroku create &lt;your_app_name&gt;</code>.</p>

<p>The next step is to commit all the code and push it to Heroku:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add .
</span><span class='line'>git commit -m <span class="s2">&quot;Create angular app using Yeoman&quot;</span>
</span><span class='line'>git push heroku master
</span></code></pre></td></tr></table></div></figure>


<p>You need at least 1 web worker to get your app running. You can scale your Heroky web worker to 1 by running the following command:</p>

<p><code>heroku ps:scale web=1</code></p>

<p>Ta da, now your app should be running at &lt;your_app_name>.herokuapp.com. To quickly open your app run <code>heroku open</code></p>

<p>Let me know if you have any questions or any problems while setting up and deploying your app!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Adam Waxman</span></span>

      








  


<time datetime="2014-07-13T14:57:00-04:00" pubdate data-updated="true">Jul 13<span>th</span>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://awaxman11.github.io/blog/2014/07/13/how-to-create-an-angular-app-using-yeoman-and-deploy-it-to-heroku/" data-via="ajwaxman" data-counturl="http://awaxman11.github.io/blog/2014/07/13/how-to-create-an-angular-app-using-yeoman-and-deploy-it-to-heroku/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/01/25/getting-into-css3-animations/" title="Previous Post: Getting Into CSS3 Animations">&laquo; Getting Into CSS3 Animations</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <a style="width: 100%;" href="http://referrals.trhou.se/adamwaxman" target="_blank"><img src="http://wac.a8b5.edgecastcdn.net/80A8B5/static-assets/assets/content/referral-badge-green.png"/></a>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/13/how-to-create-an-angular-app-using-yeoman-and-deploy-it-to-heroku/">How to Create  an Angular App Using Yeoman and Deploy it to Heroku</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/25/getting-into-css3-animations/">Getting Into CSS3 Animations</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/11/sorting-a-rails-resource-based-on-a-calculated-value/">Sorting a Rails Resource Based on a Calculated Value</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/01/deploying-a-rails-app-with-capistrano-part-2/">Deploying a Rails App With Capistrano (Part 2)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/09/deploying-a-rails-app-with-capistrano/">Deploying a Rails App With Capistrano (Part 1)</a>
      </li>
    
  </ul>
</section>





<section>
  <h1>About Me</h1>
  <div id="twitter-profile" style="margin-top:0.5em;">
    <p>
      <strong>Adam Waxman</strong> 
      (<a href="http://twitter.com/ajwaxman">@ajwaxman</a>)
    </p>
    <p>Product at <a href="https://seatgeek.com">SeatGeek</a>. <a href="http://flatironschool.com">Flatiron School</a> grad. I like to build stuff - <a href="https://twitter.com/flockwme">Flock</a> | <a href="https://twitter.com/rulethejungle">Rule the Jungle</a> | <a href="https://twitter.com/found_io">Found</a></p>
  </div>
  <script type="text/javascript">
    $.domReady(function(){
        var container = $('#twitter-profile'),
            user = "ajwaxman";
        
        function parseTwLinks(s) {
          var twUrl = "http://www.twitter.com/"
          s = s.replace(/ (@([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+p2+"'>"+p1+"</a>"
          }).replace(/ (#([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+"#!/search?q=%23"+p2+"'>"+p1+"</a>"
          })
          return s
        }

        $.ajax({
            url: "http://api.twitter.com/1/users/show.json?include_entities=false&screen_name="+user+"&callback=?"
          , type: 'jsonp'
          , error: function (err) { $('#twitter-profile').addClass('error');  }
          , success: function(data) {
              container.html('<img class="left" src="http://api.twitter.com/1/users/profile_image/'+user+'.json?size=bigger" alt="@'+user+'"><p><strong>'+data.name+'</strong> (<a href="http://twitter.com/'+user+'">@'+user+'</a>)<br/>'+data.location+'</p><p>'+parseTwLinks(data.description)+'</p>');
            }
        })
      });
  </script>
</section>
<section>
  <h1>Connect on Twitter!</h1>
  <a class="twitter-timeline" href="https://twitter.com/ajwaxman" data-widget-id="370245364177047552">Tweets by @ajwaxman</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Adam Waxman -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  - <span class="credit">Theme by <a href="http://www.gehaxelt.in">Gehaxelt</a></span>
  <span class="credit">and <a href="http://www.it-solutions-neef.de">IT Solutions Neef</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'awaxman-coding';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://awaxman11.github.io/blog/2014/07/13/how-to-create-an-angular-app-using-yeoman-and-deploy-it-to-heroku/';
        var disqus_url = 'http://awaxman11.github.io/blog/2014/07/13/how-to-create-an-angular-app-using-yeoman-and-deploy-it-to-heroku/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
